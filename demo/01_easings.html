<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <script src="../build/Ani.js"></script>
        <script type="text/javascript">
            var seq, el = function(e){return document.createElement(e)}, t = function(txt){return document.createTextNode(txt)},
                modes = [Ani.Constants.IN, Ani.Constants.IN_OUT, Ani.Constants.OUT];

            function createGraph(easingType, mode){
                var container = el("div");
                const w = 213, h = 120, ph = 30;
                var linear = new Ani.Easings.Linear(),
                    title, easing, canvas, ctx;

                canvas = el("canvas");
                ctx = canvas.getContext("2d");
                easing = new Ani.Easings[easingType](mode);
                graph = el("div");
                title = el("h4");
                title.appendChild(t(easingType+" easing, "+ mode));

                canvas.width = w;
                canvas.height = h;

                ctx.fillStyle = "#fbfbff";
                ctx.fillRect(0,0, w, h);
                ctx.lineWidth = 0.63;
                ctx.strokeStyle = "#eeeefe";

                ctx.beginPath();
                ctx.moveTo(0,ph);
                ctx.lineTo(w, ph);
                ctx.moveTo(0, h-ph);
                ctx.lineTo(w, h-ph);
                ctx.closePath();
                ctx.stroke();

                ctx.lineWidth = 2;
                ctx.strokeStyle = "#ff7f7f";

                var pos = {x: 5, y: h-ph},
                    _pos = {x: 5, y: h-ph};

                seq.add(Ani.to({target: pos, targetFields: {x: w-5}, duration: 2, easing: linear}));
                seq.add(Ani.to({target: pos, targetFields: {y: ph}, duration: 2, easing: easing, callback:{onUpdate: function(ani){
                    ctx.beginPath();
                    ctx.moveTo(_pos.x, _pos.y);
                    ctx.lineTo(pos.x, pos.y);
                    ctx.closePath();
                    ctx.stroke();

                    _pos.x = pos.x;
                    _pos.y = pos.y;
                }}}));

                container.appendChild(title);
                container.appendChild(canvas);
                return container;
            }

            window.onload = function(){
                var container = document.createElement("div");
                document.body.appendChild(container);

                seq = new Ani.AniSequence();

                seq.beginSequence();
                seq.beginStep();
                container.appendChild(createGraph("Linear", modes[0]));

                container.appendChild(createGraph("Sine", modes[0]));
                container.appendChild(createGraph("Sine", modes[1]));
                container.appendChild(createGraph("Sine", modes[2]));

                container.appendChild(createGraph("Expo", modes[0]));
                container.appendChild(createGraph("Expo", modes[1]));
                container.appendChild(createGraph("Expo", modes[2]));

                container.appendChild(createGraph("Cubic", modes[0]));
                container.appendChild(createGraph("Cubic", modes[1]));
                container.appendChild(createGraph("Cubic", modes[2]));

                container.appendChild(createGraph("Quad", modes[0]));
                container.appendChild(createGraph("Quad", modes[1]));
                container.appendChild(createGraph("Quad", modes[2]));

                container.appendChild(createGraph("Quart", modes[0]));
                container.appendChild(createGraph("Quart", modes[1]));
                container.appendChild(createGraph("Quart", modes[2]));

                container.appendChild(createGraph("Quint", modes[0]));
                container.appendChild(createGraph("Quint", modes[1]));
                container.appendChild(createGraph("Quint", modes[2]));

                container.appendChild(createGraph("Circ", modes[0]));
                container.appendChild(createGraph("Circ", modes[1]));
                container.appendChild(createGraph("Circ", modes[2]));

                container.appendChild(createGraph("Back", modes[0]));
                container.appendChild(createGraph("Back", modes[1]));
                container.appendChild(createGraph("Back", modes[2]));

                container.appendChild(createGraph("Bounce", modes[0]));
                container.appendChild(createGraph("Bounce", modes[1]));
                container.appendChild(createGraph("Bounce", modes[2]));

                container.appendChild(createGraph("Elastic", modes[0]));
                container.appendChild(createGraph("Elastic", modes[1]));
                container.appendChild(createGraph("Elastic", modes[2]));

                seq.endStep();
                seq.endSequence();
                seq.start();

                window.setInterval(draw, 1000/120);
            };

            function draw(){
                //requestAnimationFrame(draw);
                Ani.update();
            }
        </script>
    </head>
    <body>
    
    </body>
</html>